{% extends "base.html" %}

{% block content%}
    <div class="container">
        <h1>{{ post.title|title }}</h1>
        <p class="text-muted">{{ post.date}}</p>
        <p><b>Author:</b> <a href="{{ post.author.get_absolute_url }}">{{ post.author }}</a></p>
        <p><b>Description:</b></p>
        <p>{{ post.description|linebreaks }}</p>

        <div class="ms-5">
            <h3>Comments</h3>
            {% for comment in post.comment_set.all %}
                <hr>
                <p><b>{{ comment.user }}</b> <span class="text-muted mt-0">({{ comment.datetime }})</span></p>
                <p ></p>
                <p class="text-break">{{ comment.description }}</p>
            {% empty %}
                <p>Пока нет комментариев.</p>
            {% endfor %}

            <hr>
            <div class="mb-4">
                {% if user.is_authenticated %}
                    <a href="{% url 'comment' post.id %}">Добавить комментарий</a>
                {% else %}
                    <p><a href="{% url 'login' %}">Войдите</a>, чтобы оставить комментарий.</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}